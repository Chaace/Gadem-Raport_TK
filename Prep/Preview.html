<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Input Raport Siswa</title>

    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
        }

        /* ----- GAYA UNTUK FORMULIR INPUT ----- */
        #formInputContainer {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background-color: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        #formInputContainer h1 {
            text-align: center;
            color: #333;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .form-group input[type="text"],
        .form-group input[type="number"],
        .form-group textarea {
            width: 98%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .form-group textarea {
            height: 80px;
            resize: vertical;
        }
        .form-section {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
        }
        .form-section h3 { margin-top: 0; }
        
        .generate-button {
            display: block;
            width: 100%;
            padding: 12px;
            font-size: 18px;
            background-color: #28a745; /* Hijau */
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
        
/* ----- GAYA UNTUK TEMPLATE RAPORT CETAK ----- */
        .raport-container {
            width: 21cm; /* A4 */
            min-height: 29.7cm; /* A4 */
            padding: 2cm;
            margin: 10px auto;
            background-color: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);

            /* --- TAMBAHAN UNTUK PREVIEW "SPASI" HALAMAN --- */
            
            /* Tentukan ukuran "halaman" visual kita */
            background-size: 100% 29.7cm; /* Lebar 100%, Tinggi A4 */
            
            /* * Ini adalah "Trik" nya:
             * Kita membuat gambar latar belakang yang berulang.
             * 99% atas adalah putih (background-color).
             * 1% bawah (sekitar 3mm) adalah abu-abu, ini "spasi" antar halaman.
             */
            background-image: repeating-linear-gradient(
                to bottom,
                white,           /* Mulai dengan putih */
                white 99%,      /* Tetap putih sampai 99% ke bawah */
                #cccccc 99%,    /* Tiba-tiba ganti ke abu-abu (garis spasi) */
                #cccccc 100%    /* Tetap abu-abu sampai akhir blok */
            );
        }
        /* Dekorasi Subbab */
        .subbab {
            border: 1px solid #ddd;
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .subbab h2 {
            margin-top: 0;
            padding-bottom: 5px;
            border-bottom: 2px solid #007bff;
            color: #333;
        }

        /* Tabel yang Rapi */
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }

        .print-button-area {
            text-align: center;
            margin-bottom: 20px;
        }
        .print-button, .back-button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 10px;
        }
        .back-button {
            background-color: #6c757d; /* Abu-abu */
        }
        
        /* Utility class untuk menyembunyikan elemen */
        .hidden {
            display: none;
        }

        /* --- PENGATURAN CETAK "NEXT PAGE" --- */
        @media print {
            /* Sembunyikan semua kecuali area raport */
            body, #formInputContainer {
                background-color: #ffffff;
                padding: 0;
                margin: 0;
            }

            #formInputContainer, .print-button-area {
                display: none;
            }

            .raport-container {
                width: 100%;
                min-height: 0;
                margin: 0;
                padding: 0;
                box-shadow: none;
                display: block !important; /* Pastikan tampil saat print */
            }
            
            @page { size: A4; margin: 2cm; }
            .subbab { page-break-inside: auto; border: 1px solid #aaa; }
            th, td { page-break-inside: avoid; }
            thead { display: table-header-group; }
        }
    </style>
</head>
<body>

    <div id="formInputContainer">
        <h1>Form Input Data Raport</h1>
        
        <div class="form-section">
            <h3>Info Siswa</h3>
            <div class="form-group">
                <label for="input_nama">Nama Siswa:</label>
                <input type="text" id="input_nama" placeholder="Contoh: Budi Santoso">
            </div>
            <div class="form-group">
                <label for="input_nisn">NISN:</label>
                <input type="text" id="input_nisn" placeholder="Contoh: 1234567890">
            </div>
            <div class="form-group">
                <label for="input_kelas">Kelas:</label>
                <input type="text" id="input_kelas" placeholder="Contoh: V-A">
            </div>
            <div class="form-group">
                <label for="input_semester">Semester:</label>
                <input type="text" id="input_semester" placeholder="Contoh: 2 (Dua)">
            </div>
        </div>

        <div class="form-section">
            <h3>A. Sikap</h3>
            <div class="form-group">
                <label for="input_sikap_spiritual">1. Sikap Spiritual:</label>
                <textarea id="input_sikap_spiritual" placeholder="Tulis deskripsi sikap spiritual..."></textarea>
            </div>
            <div class="form-group">
                <label for="input_sikap_sosial">2. Sikap Sosial:</label>
                <textarea id="input_sikap_sosial" placeholder="Tulis deskripsi sikap sosial..."></textarea>
            </div>
        </div>

        <div class="form-section">
            <h3>B. Pengetahuan dan Keterampilan</h3>
            <p><strong>Catatan:</strong> Ini adalah contoh sederhana. Nanti kita bisa tambahkan tombol "Tambah Baris Nilai".</p>
            <table id="tabel_input_nilai">
                <tr>
                    <th>Mapel</th>
                    <th>P. Nilai</th>
                    <th>P. Predikat</th>
                    <th>K. Nilai</th>
                    <th>K. Predikat</th>
                </tr>
                <tr>
                    <td><input type="text" id="input_mapel_1" value="Matematika"></td>
                    <td><input type="number" id="input_p_nilai_1" value="92"></td>
                    <td><input type="text" id="input_p_pred_1" value="A"></td>
                    <td><input type="number" id="input_k_nilai_1" value="90"></td>
                    <td><input type="text" id="input_k_pred_1" value="A"></td>
                </tr>
                <tr>
                    <td><input type="text" id="input_mapel_2" value="Bahasa Indonesia"></td>
                    <td><input type="number" id="input_p_nilai_2" value="85"></td>
                    <td><input type="text" id="input_p_pred_2" value="B"></td>
                    <td><input type="number" id="input_k_nilai_2" value="88"></td>
                    <td><input type="text" id="input_k_pred_2" value="B"></td>
                </tr>
            </table>
        </div>

        <div class="form-section">
            <h3>D. Ketidakhadiran</h3>
            <div class="form-group">
                <label for="input_sakit">Sakit:</label>
                <input type="number" id="input_sakit" value="0">
            </div>
            <div class="form-group">
                <label for="input_izin">Izin:</label>
                <input type="number" id="input_izin" value="0">
            </div>
            <div class="form-group">
                <label for="input_alpha">Tanpa Keterangan:</label>
                <input type="number" id="input_alpha" value="0">
            </div>
        </div>

        <div class="form-section">
            <h3>E. Catatan Wali Kelas</h3>
            <div class="form-group">
                <label for="input_catatan_wali">Catatan Wali Kelas:</label>
                <textarea id="input_catatan_wali" placeholder="Tulis catatan untuk siswa..."></textarea>
            </div>
        </div>

        <button class="generate-button" onclick="generateReport()">Generate Raport</button>
    </div>

    <div id="raportCetak" class="raport-container hidden">
        <div class="print-button-area">
            <button class="back-button" onclick="showForm()">Kembali ke Form</button>
            <button class="print-button" onclick="window.print()">Cetak / Simpan ke PDF</button>
        </div>

        <header style="text-align: center; border-bottom: 3px double black; padding-bottom: 10px;">
            <h2>RAPORT SISWA</h2>
            <h3>SEKOLAH DASAR NEGERI 1 CONTOH</h3>
        </header>
        <br>
        
        <table>
            <tr>
                <td>Nama Siswa</td>
                <td>: <strong id="nama_siswa_placeholder"></strong></td>
                <td>Kelas</td>
                <td>: <strong id="kelas_placeholder"></strong></td>
            </tr>
            <tr>
                <td>NISN</td>
                <td>: <strong id="nisn_placeholder"></strong></td>
                <td>Semester</td>
                <td>: <strong id="semester_placeholder"></strong></td>
            </tr>
        </table>

        <div class="subbab">
            <h2>A. Sikap</h2>
            <p><strong>1. Sikap Spiritual</strong></p>
            <p id="sikap_spiritual_placeholder" style="padding-left: 20px;"></p>
            <p><strong>2. Sikap Sosial</strong></p>
            <p id="sikap_sosial_placeholder" style="padding-left: 20px;"></p>
        </div>

        <div class="subbab">
            <h2>B. Pengetahuan dan Keterampilan</h2>
            <table>
                <thead>
                    <tr>
                        <th rowspan="2">No.</th>
                        <th rowspan="2">Mata Pelajaran</th>
                        <th colspan="2">Pengetahuan</th>
                        <th colspan="2">Keterampilan</th>
                    </tr>
                    <tr>
                        <th>Nilai</th>
                        <th>Predikat</th>
                        <th>Nilai</th>
                        <th>Predikat</th>
                    </tr>
                </thead>
                <tbody id="nilai_placeholder">
                    </tbody>
            </table>
        </div>

        <div class="subbab">
            <h2>D. Ketidakhadiran</h2>
            <table>
                <tr>
                    <td style="width: 50%;">Sakit</td>
                    <td>: <span id="absensi_sakit_placeholder"></span> hari</td>
                </tr>
                <tr>
                    <td>Izin</td>
                    <td>: <span id="absensi_izin_placeholder"></span> hari</td>
                </tr>
                <tr>
                    <td>Tanpa Keterangan</td>
                    <td>: <span id="absensi_alpha_placeholder"></span> hari</td>
                </tr>
            </table>
        </div>

        <div class="subbab">
            <h2>E. Catatan Wali Kelas</h2>
            <p id="catatan_wali_placeholder"></p>
        </div>

    </div> <script>
        
        // Fungsi utama untuk "menyuntik" data dari form ke template
        function generateReport() {
            // 1. Ambil data dari FORM INPUT
            const nama = document.getElementById('input_nama').value;
            const nisn = document.getElementById('input_nisn').value;
            const kelas = document.getElementById('input_kelas').value;
            const semester = document.getElementById('input_semester').value;
            const sikapSpiritual = document.getElementById('input_sikap_spiritual').value;
            const sikapSosial = document.getElementById('input_sikap_sosial').value;
            const sakit = document.getElementById('input_sakit').value;
            const izin = document.getElementById('input_izin').value;
            const alpha = document.getElementById('input_alpha').value;
            const catatan = document.getElementById('input_catatan_wali').value;

            // 2. "Suntikkan" data ke TEMPLATE CETAK
            document.getElementById('nama_siswa_placeholder').innerText = nama;
            document.getElementById('nisn_placeholder').innerText = nisn;
            document.getElementById('kelas_placeholder').innerText = kelas;
            document.getElementById('semester_placeholder').innerText = semester;
            document.getElementById('sikap_spiritual_placeholder').innerText = sikapSpiritual;
            document.getElementById('sikap_sosial_placeholder').innerText = sikapSosial;
            document.getElementById('absensi_sakit_placeholder').innerText = sakit;
            document.getElementById('absensi_izin_placeholder').innerText = izin;
            document.getElementById('absensi_alpha_placeholder').innerText = alpha;
            document.getElementById('catatan_wali_placeholder').innerText = catatan;

            // 3. Ambil data tabel nilai (Contoh sederhana 2 baris)
            const mapel1 = document.getElementById('input_mapel_1').value;
            const pNilai1 = document.getElementById('input_p_nilai_1').value;
            const pPred1 = document.getElementById('input_p_pred_1').value;
            const kNilai1 = document.getElementById('input_k_nilai_1').value;
            const kPred1 = document.getElementById('input_k_pred_1').value;
            
            const mapel2 = document.getElementById('input_mapel_2').value;
            const pNilai2 = document.getElementById('input_p_nilai_2').value;
            const pPred2 = document.getElementById('input_p_pred_2').value;
            const kNilai2 = document.getElementById('input_k_nilai_2').value;
            const kPred2 = document.getElementById('input_k_pred_2').value;
            
            // 4. "Suntikkan" data tabel ke TEMPLATE CETAK
            const tabelNilai = document.getElementById('nilai_placeholder');
            tabelNilai.innerHTML = `
                <tr>
                    <td>1</td>
                    <td>${mapel1}</td>
                    <td>${pNilai1}</td>
                    <td>${pPred1}</td>
                    <td>${kNilai1}</td>
                    <td>${kPred1}</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>${mapel2}</td>
                    <td>${pNilai2}</td>
                    <td>${pPred2}</td>
                    <td>${kNilai2}</td>
                    <td>${kPred2}</td>
                </tr>
            `;

            // 5. Sembunyikan Form, Tampilkan Raport
            document.getElementById('formInputContainer').classList.add('hidden');
            document.getElementById('raportCetak').classList.remove('hidden');
        }

        // Fungsi untuk kembali ke form
        function showForm() {
            document.getElementById('formInputContainer').classList.remove('hidden');
            document.getElementById('raportCetak').classList.add('hidden');
        }

    </script>

</body>
</html>